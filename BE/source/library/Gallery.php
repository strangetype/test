<?phpclass Gallery{	public static $DB;		function __construct()	{		new DB();		session_start();	}	public function addColor($color)	{		$stmt = DB::$DB->prepare("			INSERT INTO colors				(`category_id`,				`texture_id`,				`name`,				`color`,				`artikle`,				`couple_id`,				`cost`,				`CW`				)			VALUES				(?, ?, ?, ?, ?, ?, ?, ?) "		);		$stmt->bind_param('issssidd',			$color->categoryId,			$color->textureId,			$color->name,			$color->color,            $color->artikle,            $color->coupleId,            $color->cost,            $color->CW		);		$stmt->execute();		$stmt->close();		return DB::$DB->insert_id;	}	public function updateColor($color)	{		$stmt = DB::$DB->prepare("			UPDATE colors SET				`category_id` = ?,				`texture_id` = ?,				`name` = ?,				`color` = ?,				`artikle` = ?,				`couple_id` = ?,				`cost` = ?,				`CW` = ?			WHERE				`id` = ?"		);		$stmt->bind_param('issssiddi',			$color->categoryId,			$color->textureId,			$color->name,			$color->color,            $color->artikle,            $color->coupleId,            $color->cost,            $color->CW,            $color->id		);		$stmt->execute();		$stmt->close();		return DB::$DB->affected_rows;	}	public function addCategory($category)	{		$stmt = DB::$DB->prepare("			INSERT INTO categories				(`name`,				`description`,				`mega_category_id`,				`type`				)			VALUES				(?, ?, ?, ?) "		);		$stmt->bind_param('ssis',			$category->name,			$category->description,			$category->megaCategoryId,			$category->type		);		$stmt->execute();		$stmt->close();		return DB::$DB->insert_id;	}	public function updateCategory($category)	{		$stmt = DB::$DB->prepare("			UPDATE `categories` SET				`name` = ?,				`description` = ?,				`mega_category_id` = ?,				`type` = ?			WHERE				`id` = ?"		);		$stmt->bind_param('ssisi',			$category->name,			$category->description,			$category->megaCategoryId,			$category->type,			$category->id		);		$stmt->execute();		$stmt->close();		return DB::$DB->affected_rows;	}	public function deleteColor($id)	{		$stmt = DB::$DB->prepare("			DELETE FROM `colors`			WHERE `id` = ? "		);		$stmt->bind_param('i',			$id		);		$stmt->execute();		$stmt->close();		return true;	}	public function deleteCategory($id)	{		$stmt = DB::$DB->prepare("			DELETE FROM `categories`			WHERE `id` = ? "		);		$stmt->bind_param('i',			$id		);		$stmt->execute();		$stmt->close();		return true;	}	public function addMegaCategory($megaCategory)	{		$stmt = DB::$DB->prepare("			INSERT INTO mega_categories				(`name`,				`description`				)			VALUES				(?, ?) "		);		$stmt->bind_param('ss',			$megaCategory->name,			$megaCategory->description		);		$stmt->execute();		$stmt->close();		return DB::$DB->insert_id;	}	public function updateMegaCategory($megaCategory)	{		$stmt = DB::$DB->prepare("			UPDATE `mega_categories` SET				`name` = ?,				`description` = ?			WHERE				`id` = ?"		);		$stmt->bind_param('ssi',			$megaCategory->name,			$megaCategory->description,			$megaCategory->id		);		$stmt->execute();		$stmt->close();		return DB::$DB->affected_rows;	}	public function deleteMegaCategory($id)	{		$stmt = DB::$DB->prepare("			DELETE FROM `mega_categories`			WHERE `id` = ? "		);		$stmt->bind_param('i',			$id		);		$stmt->execute();		$stmt->close();		return true;	}	public function getMegaCategories() {		$cat = array();		$stmt = DB::$DB->prepare(			"SELECT				id,				name,				description            FROM mega_categories;"		);		$stmt->execute();		$stmt->bind_result(			$cat['id'],			$cat['name'],			$cat['description']		);		$cats = array();		$tr = $stmt->fetch();		$i = 0;		while($tr)		{			$cats[$i] = array();			$cats[$i]['id'] = $cat['id'];			$cats[$i]['name'] = $cat['name'];			$cats[$i]['description'] = $cat['description'];			$tr = $stmt->fetch();			$i++;		}		$stmt->close();		return $cats;	}	public function getCategories() {		$cat = array();		$stmt = DB::$DB->prepare(			"SELECT				id,				mega_category_id,				name,				description,				type            FROM categories;"		);		$stmt->execute();		$stmt->bind_result(			$cat['id'],			$cat['megaCategoryId'],			$cat['name'],			$cat['description'],			$cat['type']		);		$cats = array();		$tr = $stmt->fetch();		$i = 0;		while($tr)		{			$cats[$i] = array();			$cats[$i]['id'] = $cat['id'];			$cats[$i]['megaCategoryId'] = $cat['megaCategoryId'];			$cats[$i]['name'] = $cat['name'];			$cats[$i]['description'] = $cat['description'];			$cats[$i]['type'] = $cat['type'];			$tr = $stmt->fetch();			$i++;		}		$stmt->close();		return $cats;	}		public function getColorById($id) {		$color = array();		$stmt = DB::$DB->prepare(			"SELECT				id,				category_id,				name,				artikle,				color,				texture_id,				couple_id,				cost,				CW            FROM colors WHERE id = ?;"		);		$stmt->bind_param('i', $id);		$stmt->execute();		$stmt->bind_result(			$color['id'],			$color['categoryId'],			$color['name'],			$color['artikle'],			$color['color'],			$color['textureId'],			$color['coupleId'],			$color['cost'],			$color['CW']		);		$tr = $stmt->fetch();		if ($tr) {		   $stmt->close();		   return $color;		}		$stmt->close();		return false;	}	public function getColors() {		$color = array();		$stmt = DB::$DB->prepare(			"SELECT				id,				category_id,				name,				artikle,				color,				texture_id,				couple_id,				cost,				CW            FROM colors;"		);		$stmt->execute();		$stmt->bind_result(			$color['id'],			$color['categoryId'],			$color['name'],			$color['artikle'],			$color['color'],			$color['textureId'],			$color['coupleId'],			$color['cost'],			$color['CW']		);		$colors = array();		$tr = $stmt->fetch();		$i = 0;		while($tr)		{			$colors[$i] = array();			$colors[$i]['id'] = $color['id'];			$colors[$i]['categoryId'] = $color['categoryId'];			$colors[$i]['name'] = $color['name'];			$colors[$i]['artikle'] = $color['artikle'];			$colors[$i]['color'] = $color['color'];            $colors[$i]['textureId'] = $color['textureId'];            $colors[$i]['coupleId'] = $color['coupleId'];            $colors[$i]['cost'] = $color['cost'];            $colors[$i]['CW'] = $color['CW'];			$tr = $stmt->fetch();			$i++;		}		$stmt->close();		return $colors;	}}