<?phpif ( isset($DATA->mail) && $ACTION == 'registration') ) {	if (!preg_match("/@/", $DATA->mail)) {		$RESPONSE['error'] = 2;		$RESPONSE['errorMessage'] = "Адресс электронной почты введен некоректно";	} else {        $Users = new Users();        $rMail = $Users->checkRepeatedUsers($DATA->mail);        if ($rMail) {            $RESPONSE['error'] = 3;            $RESPONSE['errorMessage'] = "пользователь с таким почтовым ящиком уже зарегестрирован";        } else {            $password = Chiper::generatePassword();            $encodedPassword = Chiper::passwordEncode($password);            $mailRes = mail($DATA->mail, "Фасады из акрила", "спасибо за регистрацию на нашем сайте, ваш пароль для входа на сайт: ".$password);            if ($mailRes) {                $regres = $Users->addUser($DATA->mail,$DATA->phone, $encodedPassword);                $RESPONSE['UserNomber'] = $regres;                $Auth = new Auth();                $RESPONSE['isAuth'] = $Auth->authorisation($DATA->mail, $encodedPassword);            } else {                $RESPONSE['error'] = 4;                $RESPONSE['errorMessage'] = 'Адресс электронной почты некоректен';            }        }	}} else {    $RESPONSE['error'] = 1;    $RESPONSE['errorMessage'] = 'недостаточно данных для регистрации';}